{% extends "base.html" %}
{% block title %}Dashboard Page{% endblock %}
{% block head %}
<link rel="stylesheet" href="/static/dashboard.css">
{% endblock %}
{% block content %}



<div class="container">
  <div class="flexbox" >
      <div>
        <div id="mySidenav" class="sidenav">
          <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">x</a>
          <a href="/">Home</a>
          <a href="/dashboard">Dashboard</a>
          <a href="/products">Products</a>
          <a href="/sales">Sales</a>
          <a href="/login">Log In</a>
          <a href="/register">Register</a>
          <a href="/logout">Log Out</a>
      </div>
      </div> 
      <div>Dashboard</div>
      <div><a href="/index">My Duka</a></div>
  </div>
</div>
<h6 style="color: orange;font-family:'Courier New', Courier, monospace" class="analyze">-Analyze the Data-</h3>


    
  <div class="container text-center">
    <div class="row row-cols-2" style="margin-top: 4%;">
      <div class="col"> <canvas id="bar-chart" width="800" height="450"></canvas></div>
      <div class="col2"><canvas id="line-chart" width="800" height="450"></canvas></div>
     
    </div>
  </div>
  
  <div class="card" style="width: 18rem;">
    
    <div class="card-body">
      <h1>TOTAL SALES</h1>
      <h4> {{sl}}</h4>
      
    </div>
  </div>
 
  
  

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
  <script>

    new Chart(document.getElementById("bar-chart"), {
      type: 'bar',
      data: {
        labels: {{ p_name | safe}},
      datasets: [
      {
        label: "Product profit",
        backgroundColor: ["#3e95cd", "#8e5ea2", "#3cba9f", "#e8c3b9", "#c45850","#3cba9f","#3e95cd", "#8e5ea2", "#3cba9f", "#e8c3b9", "#c45850","#3cba9f"],
        data: {{ pr_profit | safe}}
        },{
        label: "Product profit",
        backgroundColor: ["#3e95cd", "#8e5ea2", "#3cba9f", "#e8c3b9", "#c45850","#3cba9f","#3e95cd", "#8e5ea2", "#3cba9f", "#e8c3b9", "#c45850","#3cba9f"],
        data: {{ pr_profit | safe}}
        }
    ]
    
   
    },
      options: {
      legend: { display: false },
      title: {
        display: true,
        text: 'Data per product'
      }
    }
});
  </script>
  <script>
    new Chart(document.getElementById("line-chart"), {
      type: 'line',
      data: {
        labels: {{ dates | safe}},
      datasets: [{
        data: {{ pr_day | safe }},
      label: "profit per day",
      borderColor: "#3e95cd",
      fill: false
      },
      {
        data: {{ sales | safe }},
      label: "sales per day",
      borderColor: "#3e95ce",
      fill: false
      },
    ]
  },
      options: {
      title: {
        display: true,
        text: ' Data Per Day'
      }
    }
});

  </script>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
    
        
    
    {% endblock %}

